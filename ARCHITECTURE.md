# Архитектура CRM-системы Cyberbits

## Общее описание

CRM-система Cyberbits представляет собой современное веб-приложение, построенное на стеке PERN (PostgreSQL, Express.js, React.js, Node.js) с использованием Docker для контейнеризации. Система предназначена для управления проектами, документами и пользователями в рамках кибербезопасности.

## Архитектурные слои

### 1. Frontend (Клиентская часть)

#### Технологии:
- React.js с TypeScript
- Tailwind CSS для стилизации
- Formik для управления формами
- Axios для HTTP-запросов
- React Router для маршрутизации

#### Основные компоненты:
- Аутентификация и авторизация
- Управление проектами
- Управление документами
- Управление пользователями
- Аналитическая панель

### 2. Backend (Серверная часть)

#### Технологии:
- Node.js с Express.js
- Sequelize ORM
- JWT для аутентификации
- Multer для загрузки файлов
- Winston для логирования

#### Основные модули:
- API аутентификации
- API управления проектами
- API управления документами
- API управления пользователями
- Middleware авторизации

### 3. База данных

#### Технология:
- PostgreSQL

#### Основные таблицы:
- Users (Пользователи)
- Projects (Проекты)
- Documents (Документы)
- ProjectStages (Этапы проекта)

### 4. Контейнеризация

#### Технология:
- Docker

#### Контейнеры:
- Frontend
- Backend
- Database

## Роли пользователей

### 1. Администратор
- Управление пользователями
- Настройка системы
- Доступ ко всем функциям

### 2. Руководитель проекта
- Управление проектами
- Управление документами
- Назначение исполнителей

### 3. Исполнитель
- Работа с назначенными задачами
- Загрузка документов
- Отслеживание прогресса

## Функциональность

### 1. Управление проектами
- Создание и редактирование проектов
- Назначение ответственных
- Отслеживание прогресса
- Управление этапами

### 2. Управление документами
- Загрузка и версионирование
- Категоризация
- Контроль доступа
- Поиск и фильтрация

### 3. Аналитика
- Статистика проектов
- Отчеты по исполнителям
- Визуализация данных

## Безопасность

### 1. Аутентификация
- JWT-токены
- Защита паролей
- Сессии

### 2. Авторизация
- Ролевой доступ
- Проверка прав
- Middleware защиты

### 3. Защита данных
- Валидация входных данных
- Санитизация
- Логирование действий

## Контроль изменений

### 1. Версионирование
- Семантическое версионирование (MAJOR.MINOR.PATCH)
- Тегирование релизов
- История изменений

### 2. Процесс внесения изменений
1. Создание ветки для изменений
2. Разработка и тестирование
3. Code review
4. Слияние в основную ветку
5. Создание релиза

### 3. Документирование изменений
- Описание изменений
- Влияние на систему
- Инструкции по обновлению

### 4. Тестирование
- Модульные тесты
- Интеграционные тесты
- End-to-end тесты

### 5. Мониторинг
- Логирование ошибок
- Отслеживание производительности
- Алерты

## Технический стек

### Frontend
- React 18.x
- TypeScript 4.x
- Tailwind CSS 3.x
- Formik 2.x
- Axios 1.x
- React Router 6.x

### Backend
- Node.js 18.x
- Express.js 4.x
- Sequelize 6.x
- JWT 9.x
- Multer 1.x
- Winston 3.x

### База данных
- PostgreSQL 15.x

### Инфраструктура
- Docker 24.x
- Docker Compose 2.x
- Nginx 1.x

## Установка и развертывание

### Требования
- Docker и Docker Compose
- Node.js 18.x
- PostgreSQL 15.x

### Шаги установки
1. Клонирование репозитория
2. Настройка переменных окружения
3. Сборка Docker-образов
4. Запуск контейнеров

### Переменные окружения
- Настройки базы данных
- JWT-секреты
- Порты и хосты
- Настройки логирования

## Мониторинг и поддержка

### Логирование
- Уровни логирования
- Ротация логов
- Анализ ошибок

### Метрики
- Производительность
- Использование ресурсов
- Ошибки и исключения

### Алерты
- Критические ошибки
- Превышение порогов
- Нарушения безопасности 